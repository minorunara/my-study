<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <title>SAP資格 topic 1 question 89 discussion</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
            padding: 10px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
        }
        
        .header h1 {
            font-size: 1.3em;
            margin-bottom: 5px;
        }
        
        .question-section {
            padding: 20px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .question-text {
            font-size: 1.05em;
            line-height: 1.8;
            margin-bottom: 20px;
            white-space: pre-line;
        }
        
        .choices {
            list-style: none;
        }
        
        .choice-item {
            padding: 15px;
            margin: 10px 0;
            background: #f8f9fa;
            border-left: 4px solid #6c757d;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .choice-item:hover {
            background: #e9ecef;
            transform: translateX(5px);
        }
        
        .choice-item.correct {
            background: #d4edda;
            border-left-color: #28a745;
        }
        
        .choice-letter {
            display: inline-block;
            width: 30px;
            height: 30px;
            background: #6c757d;
            color: white;
            text-align: center;
            line-height: 30px;
            border-radius: 50%;
            margin-right: 10px;
            font-weight: bold;
        }
        
        .choice-item.correct .choice-letter {
            background: #28a745;
        }
        
        .answer-section {
            padding: 20px;
            background: #e7f3ff;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .answer-section h2 {
            color: #0066cc;
            font-size: 1.2em;
            margin-bottom: 10px;
        }
        
        .correct-answer {
            font-size: 1.5em;
            color: #28a745;
            font-weight: bold;
        }
        
        .vote-stats {
            margin-top: 15px;
            padding: 10px;
            background: white;
            border-radius: 4px;
        }
        
        .vote-bar {
            display: flex;
            height: 30px;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 10px;
        }
        
        .vote-segment {
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.9em;
        }
        
        .comments-section {
            padding: 20px;
        }
        
        .comments-section h2 {
            font-size: 1.2em;
            margin-bottom: 15px;
            color: #495057;
        }
        
        .comment {
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 4px;
            border-left: 4px solid #007bff;
        }
        
        .comment.highly-voted {
            border-left-color: #ffc107;
            background: #fff9e6;
        }
        
        .comment-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .comment-username {
            font-weight: bold;
            color: #495057;
        }
        
        .comment-badge {
            background: #ffc107;
            color: #000;
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 0.8em;
            font-weight: bold;
        }
        
        .comment-upvotes {
            color: #6c757d;
            font-size: 0.9em;
        }
        
        .comment-content {
            line-height: 1.8;
            white-space: pre-line;
        }
        
        .toggle-btn {
            display: block;
            width: 100%;
            padding: 12px;
            margin: 20px 0;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 1em;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        
        .toggle-btn:hover {
            background: #0056b3;
        }
        
        .hidden {
            display: none;
        }
        
        @media (max-width: 600px) {
            body {
                padding: 5px;
            }
            
            .header {
                padding: 15px;
            }
            
            .header h1 {
                font-size: 1.1em;
            }
            
            .question-section, .answer-section, .comments-section {
                padding: 15px;
            }
            
            .choice-item {
                padding: 12px;
            }
        }
    
        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: #f8f9fa;
            border-top: 2px solid #e9ecef;
            gap: 10px;
        }

        .nav-btn {
            padding: 10px 20px;
            background: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            font-weight: bold;
            transition: background 0.3s ease;
            display: inline-block;
        }

        .nav-btn:hover {
            background: #0056b3;
        }

        .nav-btn.disabled {
            background: #6c757d;
            opacity: 0.5;
            cursor: not-allowed;
        }

        .nav-btn.home-btn {
            background: #28a745;
        }

        .nav-btn.home-btn:hover {
            background: #218838;
        }

        @media (max-width: 600px) {
            .navigation {
                flex-direction: column;
            }

            .nav-btn {
                width: 100%;
                text-align: center;
            }
        }
    
    </style>
</head>
<body>
    <script>if(sessionStorage.getItem("authenticated")!=="true"){window.location.href="../index.html";}</script>
    <div class="container">
        <div class="header">
            <h1>SAP資格 topic 1 question 89 discussion</h1>
        </div>
        
        <div class="question-section">
            <div class="question-text">A company is using AWS CloudFormation to deploy its infrastructure. The company is concerned that, if a production CloudFormation stack is deleted, important data stored in Amazon RDS databases or Amazon EBS volumes might also be deleted.How can the company prevent users from accidentally deleting data in this way?</div>
            
            <ul class="choices">
                <li class="choice-item">
                    <span class="choice-letter">A</span>
                    Modify the CloudFormation templates to add a DeletionPolicy attribute to RDS and EBS resources.
                </li>
                <li class="choice-item">
                    <span class="choice-letter">B</span>
                    Configure a stack policy that disallows the deletion of RDS and EBS resources.
                </li>
                <li class="choice-item">
                    <span class="choice-letter">C</span>
                    Modify IAM policies lo deny deleting RDS and EBS resources that are tagged with an "aws:cloudformation:stack-name" tag.
                </li>
                <li class="choice-item">
                    <span class="choice-letter">D</span>
                    Use AWS Config rules to prevent deleting RDS and EBS resources.
                </li>
            </ul>
            
            <button class="toggle-btn" onclick="toggleAnswer()">正解を表示</button>
        </div>
        
        <div class="answer-section hidden" id="answer-section">
            <h2>正解</h2>
            <div class="correct-answer">A</div>
            
            
            <div class="vote-stats">
                <strong>コミュニティ投票（計 49 票）</strong>
                <div class="vote-bar">
                    <div class="vote-segment" style="width: 85.71428571428571%; background: #007bff;">A (86%)</div><div class="vote-segment" style="width: 14.285714285714285%; background: #28a745;">B (14%)</div>
                </div>
            </div>
        </div>
        
        <div class="comments-section hidden" id="comments-section">
            <h2>主要なディスカッション</h2>
            <div class="comment highly-voted">
                <div class="comment-header">
                    <span class="comment-username">zejou1</span>
                    <span class="comment-badge">Highly Voted</span>
                    <span class="comment-upvotes">👍 17 votes</span>
                </div>
                <div class="comment-content">https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-deletionpolicy.html
With the DeletionPolicy attribute you can preserve, and in some cases, backup a resource when its stack is deleted. You specify a DeletionPolicy attribute for each resource that you want to control. If a resource has no DeletionPolicy attribute, AWS CloudFormation deletes the resource by default.
Retain
CloudFormation keeps the resource without deleting the resource or its contents when its stack is deleted. You can add this deletion policy to any resource type. When CloudFormation completes the stack deletion, the stack will be in Delete_Complete state; however, resources that are retained continue to exist and continue to incur applicable charges until you delete those resource</div>
            </div>
            <div class="comment">
                <div class="comment-header">
                    <span class="comment-username">rbm2023</span>
                    
                    <span class="comment-upvotes">👍 3 votes</span>
                </div>
                <div class="comment-content">Check the differences and use cases where to use a stack policy or add a deletion policy (retain):
Stack policy and deletion policy are both ways to protect resources created by CloudFormation stacks, but they have different functions.
Stack policy is a feature that allows you to specify a JSON policy document that restricts what actions can be taken on a CloudFormation stack. Stack policies are used to prevent accidental or intentional updates or deletions of critical resources in your stack, by specifying which resources can be modified and by whom. Stack policies can be used to allow specific teams or individuals to modify specific resources in a stack while preventing them from modifying others.</div>
            </div>
            <div class="comment">
                <div class="comment-header">
                    <span class="comment-username">NikkyDicky</span>
                    
                    <span class="comment-upvotes">👍 2 votes</span>
                </div>
                <div class="comment-content">A, basic DeletionPolicy use case</div>
            </div>
            <div class="comment">
                <div class="comment-header">
                    <span class="comment-username">Maria2023</span>
                    
                    <span class="comment-upvotes">👍 2 votes</span>
                </div>
                <div class="comment-content">Although that I would preferably use both A and B - this is an exam and the truth is in the wording - "important data stored in Amazon RDS databases or Amazon EBS volumes might also be deleted" - we don't care if the resources are deleted but the data, which makes me believe they want us to set up a deletion policy at a resource level to "Retain"</div>
            </div>
            <div class="comment">
                <div class="comment-header">
                    <span class="comment-username">zak340</span>
                    
                    <span class="comment-upvotes">👍 2 votes</span>
                </div>
                <div class="comment-content">Explanation:
Stack policies are a powerful feature of AWS CloudFormation that allows you to control fine-grained permissions for resources within a stack. By configuring a stack policy that disallows the deletion of RDS and EBS resources, you can prevent users from accidentally deleting these critical resources and the associated data.

Option A (Modifying CloudFormation templates with DeletionPolicy attribute) is not the best solution in this case. While the DeletionPolicy attribute can be used to control resource behavior during stack deletion, it is not applicable to Amazon RDS instances or Amazon EBS volumes.</div>
            </div>
        </div>
    <div class="navigation">
    <a href="question-088.html" class="nav-btn prev-btn">← 前の問題</a>
    <a href="../index.html" class="nav-btn home-btn">📋 目次</a>
    <a href="question-090.html" class="nav-btn next-btn">次の問題 →</a>
</div>
    </div>
    
    <script>
        let answerVisible = false;
        
        function toggleAnswer() {
            const answerSection = document.getElementById('answer-section');
            const commentsSection = document.getElementById('comments-section');
            const btn = document.querySelector('.toggle-btn');
            const correctLetter = 'A';
            
            answerVisible = !answerVisible;
            
            if (answerVisible) {
                answerSection.classList.remove('hidden');
                commentsSection.classList.remove('hidden');
                btn.textContent = '正解を隠す';
                
                // 正解の選択肢をハイライト
                document.querySelectorAll('.choice-item').forEach(item => {
                    const letter = item.querySelector('.choice-letter').textContent;
                    if (letter === correctLetter) {
                        item.classList.add('correct');
                    }
                });
            } else {
                answerSection.classList.add('hidden');
                commentsSection.classList.add('hidden');
                btn.textContent = '正解を表示';
                
                // ハイライトを削除
                document.querySelectorAll('.choice-item').forEach(item => {
                    item.classList.remove('correct');
                });
            }
        }
    </script>
</body>
</html>