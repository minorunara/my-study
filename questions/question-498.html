<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <title>SAP資格 topic 1 question 498 discussion</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
            padding: 10px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
        }
        
        .header h1 {
            font-size: 1.3em;
            margin-bottom: 5px;
        }
        
        .question-section {
            padding: 20px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .question-text {
            font-size: 1.05em;
            line-height: 1.8;
            margin-bottom: 20px;
            white-space: pre-line;
        }
        
        .choices {
            list-style: none;
        }
        
        .choice-item {
            padding: 15px;
            margin: 10px 0;
            background: #f8f9fa;
            border-left: 4px solid #6c757d;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .choice-item:hover {
            background: #e9ecef;
            transform: translateX(5px);
        }
        
        .choice-item.correct {
            background: #d4edda;
            border-left-color: #28a745;
        }
        
        .choice-letter {
            display: inline-block;
            width: 30px;
            height: 30px;
            background: #6c757d;
            color: white;
            text-align: center;
            line-height: 30px;
            border-radius: 50%;
            margin-right: 10px;
            font-weight: bold;
        }
        
        .choice-item.correct .choice-letter {
            background: #28a745;
        }
        
        .answer-section {
            padding: 20px;
            background: #e7f3ff;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .answer-section h2 {
            color: #0066cc;
            font-size: 1.2em;
            margin-bottom: 10px;
        }
        
        .correct-answer {
            font-size: 1.5em;
            color: #28a745;
            font-weight: bold;
        }
        
        .vote-stats {
            margin-top: 15px;
            padding: 10px;
            background: white;
            border-radius: 4px;
        }
        
        .vote-bar {
            display: flex;
            height: 30px;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 10px;
        }
        
        .vote-segment {
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.9em;
        }
        
        .comments-section {
            padding: 20px;
        }
        
        .comments-section h2 {
            font-size: 1.2em;
            margin-bottom: 15px;
            color: #495057;
        }
        
        .comment {
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 4px;
            border-left: 4px solid #007bff;
        }
        
        .comment.highly-voted {
            border-left-color: #ffc107;
            background: #fff9e6;
        }
        
        .comment-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .comment-username {
            font-weight: bold;
            color: #495057;
        }
        
        .comment-badge {
            background: #ffc107;
            color: #000;
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 0.8em;
            font-weight: bold;
        }
        
        .comment-upvotes {
            color: #6c757d;
            font-size: 0.9em;
        }
        
        .comment-content {
            line-height: 1.8;
            white-space: pre-line;
        }
        
        .toggle-btn {
            display: block;
            width: 100%;
            padding: 12px;
            margin: 20px 0;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 1em;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        
        .toggle-btn:hover {
            background: #0056b3;
        }
        
        .hidden {
            display: none;
        }
        
        @media (max-width: 600px) {
            body {
                padding: 5px;
            }
            
            .header {
                padding: 15px;
            }
            
            .header h1 {
                font-size: 1.1em;
            }
            
            .question-section, .answer-section, .comments-section {
                padding: 15px;
            }
            
            .choice-item {
                padding: 12px;
            }
        }
    
        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: #f8f9fa;
            border-top: 2px solid #e9ecef;
            gap: 10px;
        }

        .nav-btn {
            padding: 10px 20px;
            background: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            font-weight: bold;
            transition: background 0.3s ease;
            display: inline-block;
        }

        .nav-btn:hover {
            background: #0056b3;
        }

        .nav-btn.disabled {
            background: #6c757d;
            opacity: 0.5;
            cursor: not-allowed;
        }

        .nav-btn.home-btn {
            background: #28a745;
        }

        .nav-btn.home-btn:hover {
            background: #218838;
        }

        @media (max-width: 600px) {
            .navigation {
                flex-direction: column;
            }

            .nav-btn {
                width: 100%;
                text-align: center;
            }
        }
    
    </style>
</head>
<body>
    <script>if(sessionStorage.getItem("authenticated")!=="true"){window.location.href="../index.html";}</script>
    <div class="container">
        <div class="header">
            <h1>SAP資格 topic 1 question 498 discussion</h1>
        </div>
        
        <div class="question-section">
            <div class="question-text">Accompany runs an application on Amazon EC2 and AWS Lambda. The application stores temporary data in Amazon S3. The S3 objects are deleted after 24 hours.The company deploys new versions of the application by launching AWS CloudFormation stacks. The stacks create the required resources. After validating a new version, the company deletes the old stack. The deletion of an old development stack recently failed. A solutions architect needs to resolve this issue without major architecture changes.Which solution will meet these requirements?</div>
            
            <ul class="choices">
                <li class="choice-item">
                    <span class="choice-letter">A</span>
                    Create a Lambda function to delete objects from an S3 bucket. Add the Lambda function as a custom resource in the CloudFormation stack with a DependsOn attribute that points to the S3 bucket resource.
                </li>
                <li class="choice-item">
                    <span class="choice-letter">B</span>
                    Modify the CloudFormation stack to attach a DeletionPolicy attribute with a value of Delete to the S3 bucket.
                </li>
                <li class="choice-item">
                    <span class="choice-letter">C</span>
                    Update the CloudFormation stack to add a DeletionPolicy attribute with a value of Snapshot for the S3 bucket resource
                </li>
                <li class="choice-item">
                    <span class="choice-letter">D</span>
                    Update the CloudFormation template to create an Amazon Elastic File System (Amazon EFS) file system to store temporary files instead of Amazon S3. Configure the Lambda functions to run in the same VPC as the EFS file system.
                </li>
            </ul>
            
            <button class="toggle-btn" onclick="toggleAnswer()">正解を表示</button>
        </div>
        
        <div class="answer-section hidden" id="answer-section">
            <h2>正解</h2>
            <div class="correct-answer">A</div>
            
            
            <div class="vote-stats">
                <strong>コミュニティ投票（計 25 票）</strong>
                <div class="vote-bar">
                    <div class="vote-segment" style="width: 88.0%; background: #007bff;">A (88%)</div><div class="vote-segment" style="width: 8.0%; background: #28a745;">B (8%)</div><div class="vote-segment" style="width: 4.0%; background: #ffc107;">C (4%)</div>
                </div>
            </div>
        </div>
        
        <div class="comments-section hidden" id="comments-section">
            <h2>主要なディスカッション</h2>
            <div class="comment highly-voted">
                <div class="comment-header">
                    <span class="comment-username">gfhbox0083</span>
                    <span class="comment-badge">Highly Voted</span>
                    <span class="comment-upvotes">👍 6 votes</span>
                </div>
                <div class="comment-content">A, for sure.
DeletionPolicy: Delete: The DeletionPolicy attribute in CloudFormation is used to specify what should happen to a resource when the stack is deleted. The value Delete indicates that CloudFormation should delete the resource (in this case, the S3 bucket) when the stack is deleted.
Non-Empty Buckets: The problem with this approach is that CloudFormation cannot delete an S3 bucket if it contains any objects. The DeletionPolicy: Delete does not change this behavior; it only specifies that the bucket should be deleted, which will still fail if the bucket is not empty.</div>
            </div>
            <div class="comment">
                <div class="comment-header">
                    <span class="comment-username">AhmedSalem</span>
                    
                    <span class="comment-upvotes">👍 4 votes</span>
                </div>
                <div class="comment-content">I will go for A.
Using Lambda function as a custom resource ensures that the S3 bucket is emptied before the stack is deleted. DependsOn Attribute ensures the Lambda function runs and completes before attempting to delete the S3 bucket, thus preventing deletion failure.</div>
            </div>
            <div class="comment">
                <div class="comment-header">
                    <span class="comment-username">toma</span>
                    
                    <span class="comment-upvotes">👍 4 votes</span>
                </div>
                <div class="comment-content">it should be A</div>
            </div>
            <div class="comment">
                <div class="comment-header">
                    <span class="comment-username">ahrentom</span>
                    
                    <span class="comment-upvotes">👍 3 votes</span>
                </div>
                <div class="comment-content">you can´t delete a S3 bucket with objects in it. So A is correct</div>
            </div>
            <div class="comment">
                <div class="comment-header">
                    <span class="comment-username">Alagong</span>
                    
                    <span class="comment-upvotes">👍 3 votes</span>
                </div>
                <div class="comment-content">IT SHOULD BE A</div>
            </div>
        </div>
    <div class="navigation">
    <a href="question-497.html" class="nav-btn prev-btn">← 前の問題</a>
    <a href="../index.html" class="nav-btn home-btn">📋 目次</a>
    <a href="question-499.html" class="nav-btn next-btn">次の問題 →</a>
</div>
    </div>
    
    <script>
        let answerVisible = false;
        
        function toggleAnswer() {
            const answerSection = document.getElementById('answer-section');
            const commentsSection = document.getElementById('comments-section');
            const btn = document.querySelector('.toggle-btn');
            const correctLetter = 'A';
            
            answerVisible = !answerVisible;
            
            if (answerVisible) {
                answerSection.classList.remove('hidden');
                commentsSection.classList.remove('hidden');
                btn.textContent = '正解を隠す';
                
                // 正解の選択肢をハイライト
                document.querySelectorAll('.choice-item').forEach(item => {
                    const letter = item.querySelector('.choice-letter').textContent;
                    if (letter === correctLetter) {
                        item.classList.add('correct');
                    }
                });
            } else {
                answerSection.classList.add('hidden');
                commentsSection.classList.add('hidden');
                btn.textContent = '正解を表示';
                
                // ハイライトを削除
                document.querySelectorAll('.choice-item').forEach(item => {
                    item.classList.remove('correct');
                });
            }
        }
    </script>
</body>
</html>