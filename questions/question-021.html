<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <title>SAP資格 topic 1 question 21 discussion</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
            padding: 10px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
        }
        
        .header h1 {
            font-size: 1.3em;
            margin-bottom: 5px;
        }
        
        .question-section {
            padding: 20px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .question-text {
            font-size: 1.05em;
            line-height: 1.8;
            margin-bottom: 20px;
            white-space: pre-line;
        }
        
        .choices {
            list-style: none;
        }
        
        .choice-item {
            padding: 15px;
            margin: 10px 0;
            background: #f8f9fa;
            border-left: 4px solid #6c757d;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .choice-item:hover {
            background: #e9ecef;
            transform: translateX(5px);
        }
        
        .choice-item.correct {
            background: #d4edda;
            border-left-color: #28a745;
        }
        
        .choice-letter {
            display: inline-block;
            width: 30px;
            height: 30px;
            background: #6c757d;
            color: white;
            text-align: center;
            line-height: 30px;
            border-radius: 50%;
            margin-right: 10px;
            font-weight: bold;
        }
        
        .choice-item.correct .choice-letter {
            background: #28a745;
        }
        
        .answer-section {
            padding: 20px;
            background: #e7f3ff;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .answer-section h2 {
            color: #0066cc;
            font-size: 1.2em;
            margin-bottom: 10px;
        }
        
        .correct-answer {
            font-size: 1.5em;
            color: #28a745;
            font-weight: bold;
        }
        
        .vote-stats {
            margin-top: 15px;
            padding: 10px;
            background: white;
            border-radius: 4px;
        }
        
        .vote-bar {
            display: flex;
            height: 30px;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 10px;
        }
        
        .vote-segment {
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.9em;
        }
        
        .comments-section {
            padding: 20px;
        }
        
        .comments-section h2 {
            font-size: 1.2em;
            margin-bottom: 15px;
            color: #495057;
        }
        
        .comment {
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 4px;
            border-left: 4px solid #007bff;
        }
        
        .comment.highly-voted {
            border-left-color: #ffc107;
            background: #fff9e6;
        }
        
        .comment-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .comment-username {
            font-weight: bold;
            color: #495057;
        }
        
        .comment-badge {
            background: #ffc107;
            color: #000;
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 0.8em;
            font-weight: bold;
        }
        
        .comment-upvotes {
            color: #6c757d;
            font-size: 0.9em;
        }
        
        .comment-content {
            line-height: 1.8;
            white-space: pre-line;
        }
        
        .toggle-btn {
            display: block;
            width: 100%;
            padding: 12px;
            margin: 20px 0;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 1em;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        
        .toggle-btn:hover {
            background: #0056b3;
        }
        
        .hidden {
            display: none;
        }
        
        @media (max-width: 600px) {
            body {
                padding: 5px;
            }
            
            .header {
                padding: 15px;
            }
            
            .header h1 {
                font-size: 1.1em;
            }
            
            .question-section, .answer-section, .comments-section {
                padding: 15px;
            }
            
            .choice-item {
                padding: 12px;
            }
        }
    
        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: #f8f9fa;
            border-top: 2px solid #e9ecef;
            gap: 10px;
        }

        .nav-btn {
            padding: 10px 20px;
            background: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            font-weight: bold;
            transition: background 0.3s ease;
            display: inline-block;
        }

        .nav-btn:hover {
            background: #0056b3;
        }

        .nav-btn.disabled {
            background: #6c757d;
            opacity: 0.5;
            cursor: not-allowed;
        }

        .nav-btn.home-btn {
            background: #28a745;
        }

        .nav-btn.home-btn:hover {
            background: #218838;
        }

        @media (max-width: 600px) {
            .navigation {
                flex-direction: column;
            }

            .nav-btn {
                width: 100%;
                text-align: center;
            }
        }
    
    </style>
</head>
<body>
    <script>if(sessionStorage.getItem("authenticated")!=="true"){window.location.href="../index.html";}</script>
    <div class="container">
        <div class="header">
            <h1>SAP資格 topic 1 question 21 discussion</h1>
        </div>
        
        <div class="question-section">
            <div class="question-text">A company is using an on-premises Active Directory service for user authentication. The company wants to use the same authentication service to sign in to the company’s AWS accounts, which are using AWS Organizations. AWS Site-to-Site VPN connectivity already exists between the on-premises environment and all the company’s AWS accounts.The company’s security policy requires conditional access to the accounts based on user groups and roles. User identities must be managed in a single location.Which solution will meet these requirements?</div>
            
            <ul class="choices">
                <li class="choice-item">
                    <span class="choice-letter">A</span>
                    Configure AWS IAM Identity Center (AWS Single Sign-On) to connect to Active Directory by using SAML 2.0. Enable automatic provisioning by using the System for Cross-domain Identity Management (SCIM) v2.0 protocol. Grant access to the AWS accounts by using attribute-based access controls (ABACs).
                </li>
                <li class="choice-item">
                    <span class="choice-letter">B</span>
                    Configure AWS IAM Identity Center (AWS Single Sign-On) by using IAM Identity Center as an identity source. Enable automatic provisioning by using the System for Cross-domain Identity Management (SCIM) v2.0 protocol. Grant access to the AWS accounts by using IAM Identity Center permission sets.
                </li>
                <li class="choice-item">
                    <span class="choice-letter">C</span>
                    In one of the company’s AWS accounts, configure AWS Identity and Access Management (IAM) to use a SAML 2.0 identity provider. Provision IAM users that are mapped to the federated users. Grant access that corresponds to appropriate groups in Active Directory. Grant access to the required AWS accounts by using cross-account IAM users.
                </li>
                <li class="choice-item">
                    <span class="choice-letter">D</span>
                    In one of the company’s AWS accounts, configure AWS Identity and Access Management (IAM) to use an OpenID Connect (OIDC) identity provider. Provision IAM roles that grant access to the AWS account for the federated users that correspond to appropriate groups in Active Directory. Grant access to the required AWS accounts by using cross-account IAM roles.
                </li>
            </ul>
            
            <button class="toggle-btn" onclick="toggleAnswer()">正解を表示</button>
        </div>
        
        <div class="answer-section hidden" id="answer-section">
            <h2>正解</h2>
            <div class="correct-answer">A</div>
            
            
            <div class="vote-stats">
                <strong>コミュニティ投票（計 91 票）</strong>
                <div class="vote-bar">
                    <div class="vote-segment" style="width: 80.21978021978022%; background: #007bff;">A (80%)</div><div class="vote-segment" style="width: 7.6923076923076925%; background: #28a745;">D (8%)</div><div class="vote-segment" style="width: 7.6923076923076925%; background: #ffc107;">B (8%)</div><div class="vote-segment" style="width: 4.395604395604396%; background: #dc3545;">C (4%)</div>
                </div>
            </div>
        </div>
        
        <div class="comments-section hidden" id="comments-section">
            <h2>主要なディスカッション</h2>
            <div class="comment highly-voted">
                <div class="comment-header">
                    <span class="comment-username">masetromain</span>
                    <span class="comment-badge">Highly Voted</span>
                    <span class="comment-upvotes">👍 30 votes</span>
                </div>
                <div class="comment-content">https://www.examtopics.com/discussions/amazon/view/74174-exam-aws-certified-solutions-architect-professional-topic-1/

Both option C and option A are valid solutions that meet the requirements for the scenario.

ABAC, or attribute-based access control, is a method of granting access to resources based on the attributes of the user, the resource, and the action. This allows for fine-grained access control, which can be useful for implementing a security policy that requires conditional access to the accounts based on user groups and roles.

AWS IAM Identity Center (AWS SSO) allows you to connect to your on-premises Active Directory service using SAML 2.0. With this, you can enable automatic provisioning by using the System for Cross-domain Identity Management (SCIM) v2.0 protocol, which allows for the management of user identities in a single location.</div>
            </div>
            <div class="comment highly-voted">
                <div class="comment-header">
                    <span class="comment-username">bititan</span>
                    <span class="comment-badge">Highly Voted</span>
                    <span class="comment-upvotes">👍 14 votes</span>
                </div>
                <div class="comment-content">A is has options for SAML and SCIM configuration with AD
C is all about users and no roles are mentioned. AD User attributes cannot be mapped to IAM users direct
D is openID based, MS AD would not support this

so I go with A</div>
            </div>
            <div class="comment">
                <div class="comment-header">
                    <span class="comment-username">924641e</span>
                    
                    <span class="comment-upvotes">👍 3 votes</span>
                </div>
                <div class="comment-content">Answer A for AWS SSO would the right answer at first glance since IAM roles can be mapped to AD groups but it would require additional AD functions like ADFS for SCIM so the next best option is D.</div>
            </div>
            <div class="comment">
                <div class="comment-header">
                    <span class="comment-username">trap</span>
                    
                    <span class="comment-upvotes">👍 3 votes</span>
                </div>
                <div class="comment-content">Answer A and B are wrong!!! 
Active Directory doesn't support SAML without the use of Active Directory Federation Server!! SCIM is also not supported. The articles that all are pasting here mention the need of an AD connect or the  trust between the local AD and an AWS managed Microsoft AD which is not the case here.
C is also wrong. Cross account IAM users option doesn't exist.
The correct is D!! You can use an OpenID Connect (OIDC) identity provider (e.g OKTA or Azure AD) and sync AD  groups in it. You can then use cross account roles to grant access to the federated users
https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_providers_create_oidc.html
https://help.okta.com/en-us/content/topics/directory/ad-agent-manage-users-groups.htm
https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_common-scenarios_aws-accounts.html</div>
            </div>
            <div class="comment">
                <div class="comment-header">
                    <span class="comment-username">imvb88</span>
                    
                    <span class="comment-upvotes">👍 3 votes</span>
                </div>
                <div class="comment-content">A: combination SSO + SAML2.0 + AD sounds correct. Automatic provisioning with SCIM means creating users and groups that synced with AD. ABAC seems not too fit for this as the requirements is "requires conditional access to the accounts based on user groups and roles" but that already satisfied with SCIM. 

B: "use Identity Center as an identity source" -> not using on premise AD -> wrong

D: use OIDC -> wrong as on premise AD does not support OIDC. Cannot find an exact source for this but ChatGpt says so..

C: creating users mapped to federated users sounds red flags. Could have been correct if it was "creating roles", the same way with the classic "creating roles for EC2 to access S3 instead of user..."

Conclusion: A</div>
            </div>
        </div>
    <div class="navigation">
    <a href="question-020.html" class="nav-btn prev-btn">← 前の問題</a>
    <a href="../index.html" class="nav-btn home-btn">📋 目次</a>
    <a href="question-022.html" class="nav-btn next-btn">次の問題 →</a>
</div>
    </div>
    
    <script>
        let answerVisible = false;
        
        function toggleAnswer() {
            const answerSection = document.getElementById('answer-section');
            const commentsSection = document.getElementById('comments-section');
            const btn = document.querySelector('.toggle-btn');
            const correctLetter = 'A';
            
            answerVisible = !answerVisible;
            
            if (answerVisible) {
                answerSection.classList.remove('hidden');
                commentsSection.classList.remove('hidden');
                btn.textContent = '正解を隠す';
                
                // 正解の選択肢をハイライト
                document.querySelectorAll('.choice-item').forEach(item => {
                    const letter = item.querySelector('.choice-letter').textContent;
                    if (letter === correctLetter) {
                        item.classList.add('correct');
                    }
                });
            } else {
                answerSection.classList.add('hidden');
                commentsSection.classList.add('hidden');
                btn.textContent = '正解を表示';
                
                // ハイライトを削除
                document.querySelectorAll('.choice-item').forEach(item => {
                    item.classList.remove('correct');
                });
            }
        }
    </script>
</body>
</html>