<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <title>SAP資格 topic 1 question 75 discussion</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
            padding: 10px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
        }
        
        .header h1 {
            font-size: 1.3em;
            margin-bottom: 5px;
        }
        
        .question-section {
            padding: 20px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .question-text {
            font-size: 1.05em;
            line-height: 1.8;
            margin-bottom: 20px;
            white-space: pre-line;
        }
        
        .choices {
            list-style: none;
        }
        
        .choice-item {
            padding: 15px;
            margin: 10px 0;
            background: #f8f9fa;
            border-left: 4px solid #6c757d;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .choice-item:hover {
            background: #e9ecef;
            transform: translateX(5px);
        }
        
        .choice-item.correct {
            background: #d4edda;
            border-left-color: #28a745;
        }
        
        .choice-letter {
            display: inline-block;
            width: 30px;
            height: 30px;
            background: #6c757d;
            color: white;
            text-align: center;
            line-height: 30px;
            border-radius: 50%;
            margin-right: 10px;
            font-weight: bold;
        }
        
        .choice-item.correct .choice-letter {
            background: #28a745;
        }
        
        .answer-section {
            padding: 20px;
            background: #e7f3ff;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .answer-section h2 {
            color: #0066cc;
            font-size: 1.2em;
            margin-bottom: 10px;
        }
        
        .correct-answer {
            font-size: 1.5em;
            color: #28a745;
            font-weight: bold;
        }
        
        .vote-stats {
            margin-top: 15px;
            padding: 10px;
            background: white;
            border-radius: 4px;
        }
        
        .vote-bar {
            display: flex;
            height: 30px;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 10px;
        }
        
        .vote-segment {
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.9em;
        }
        
        .comments-section {
            padding: 20px;
        }
        
        .comments-section h2 {
            font-size: 1.2em;
            margin-bottom: 15px;
            color: #495057;
        }
        
        .comment {
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 4px;
            border-left: 4px solid #007bff;
        }
        
        .comment.highly-voted {
            border-left-color: #ffc107;
            background: #fff9e6;
        }
        
        .comment-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .comment-username {
            font-weight: bold;
            color: #495057;
        }
        
        .comment-badge {
            background: #ffc107;
            color: #000;
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 0.8em;
            font-weight: bold;
        }
        
        .comment-upvotes {
            color: #6c757d;
            font-size: 0.9em;
        }
        
        .comment-content {
            line-height: 1.8;
            white-space: pre-line;
        }
        
        .toggle-btn {
            display: block;
            width: 100%;
            padding: 12px;
            margin: 20px 0;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 1em;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        
        .toggle-btn:hover {
            background: #0056b3;
        }
        
        .hidden {
            display: none;
        }
        
        @media (max-width: 600px) {
            body {
                padding: 5px;
            }
            
            .header {
                padding: 15px;
            }
            
            .header h1 {
                font-size: 1.1em;
            }
            
            .question-section, .answer-section, .comments-section {
                padding: 15px;
            }
            
            .choice-item {
                padding: 12px;
            }
        }
    
        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: #f8f9fa;
            border-top: 2px solid #e9ecef;
            gap: 10px;
        }

        .nav-btn {
            padding: 10px 20px;
            background: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            font-weight: bold;
            transition: background 0.3s ease;
            display: inline-block;
        }

        .nav-btn:hover {
            background: #0056b3;
        }

        .nav-btn.disabled {
            background: #6c757d;
            opacity: 0.5;
            cursor: not-allowed;
        }

        .nav-btn.home-btn {
            background: #28a745;
        }

        .nav-btn.home-btn:hover {
            background: #218838;
        }

        @media (max-width: 600px) {
            .navigation {
                flex-direction: column;
            }

            .nav-btn {
                width: 100%;
                text-align: center;
            }
        }
    
    </style>
</head>
<body>
    <script>if(sessionStorage.getItem("authenticated")!=="true"){window.location.href="../index.html";}</script>
    <div class="container">
        <div class="header">
            <h1>SAP資格 topic 1 question 75 discussion</h1>
        </div>
        
        <div class="question-section">
            <div class="question-text">A solutions architect is designing the data storage and retrieval architecture for a new application that a company will be launching soon. The application is designed to ingest millions of small records per minute from devices all around the world. Each record is less than 4 KB in size and needs to be stored in a durable location where it can be retrieved with low latency. The data is ephemeral and the company is required to store the data for 120 days only, after which the data can be deleted.The solutions architect calculates that, during the course of a year, the storage requirements would be about 10-15 TB.Which storage strategy is the MOST cost-effective and meets the design requirements?</div>
            
            <ul class="choices">
                <li class="choice-item">
                    <span class="choice-letter">A</span>
                    Design the application to store each incoming record as a single .csv file in an Amazon S3 bucket to allow for indexed retrieval. Configure a lifecycle policy to delete data older than 120 days.
                </li>
                <li class="choice-item">
                    <span class="choice-letter">B</span>
                    Design the application to store each incoming record in an Amazon DynamoDB table properly configured for the scale. Configure the DynamoDB Time to Live (TTL) feature to delete records older than 120 days.
                </li>
                <li class="choice-item">
                    <span class="choice-letter">C</span>
                    Design the application to store each incoming record in a single table in an Amazon RDS MySQL database. Run a nightly cron job that runs a query to delete any records older than 120 days.
                </li>
                <li class="choice-item">
                    <span class="choice-letter">D</span>
                    Design the application to batch incoming records before writing them to an Amazon S3 bucket. Update the metadata for the object to contain the list of records in the batch and use the Amazon S3 metadata search feature to retrieve the data. Configure a lifecycle policy to delete the data after 120 days.
                </li>
            </ul>
            
            <button class="toggle-btn" onclick="toggleAnswer()">正解を表示</button>
        </div>
        
        <div class="answer-section hidden" id="answer-section">
            <h2>正解</h2>
            <div class="correct-answer">B</div>
            
            
            <div class="vote-stats">
                <strong>コミュニティ投票（計 46 票）</strong>
                <div class="vote-bar">
                    <div class="vote-segment" style="width: 76.08695652173914%; background: #007bff;">B (76%)</div><div class="vote-segment" style="width: 23.91304347826087%; background: #28a745;">D (24%)</div>
                </div>
            </div>
        </div>
        
        <div class="comments-section hidden" id="comments-section">
            <h2>主要なディスカッション</h2>
            <div class="comment highly-voted">
                <div class="comment-header">
                    <span class="comment-username">masetromain</span>
                    <span class="comment-badge">Highly Voted</span>
                    <span class="comment-upvotes">👍 23 votes</span>
                </div>
                <div class="comment-content">The most cost-effective and efficient solution that meets the design requirements would be option B, Design the application to store each incoming record in an Amazon DynamoDB table properly configured for the scale. Configure the DynamoDB Time to Live (TTL) feature to delete records older than 120 days.

DynamoDB is a NoSQL key-value store designed for high scale and performance. It is fully managed by AWS and can easily handle millions of small records per minute. Additionally, with the TTL feature, you can set an expiration time for each record, so that the data can be automatically deleted after the specified time period.</div>
            </div>
            <div class="comment highly-voted">
                <div class="comment-header">
                    <span class="comment-username">dkx</span>
                    <span class="comment-badge">Highly Voted</span>
                    <span class="comment-upvotes">👍 6 votes</span>
                </div>
                <div class="comment-content">A. No, because millions of writes to a single .csv file would cause read and write latency

B. Yes, because DynamoDB can support peaks of more than 20 million requests per second.

C. No, because creating nightly cron is unnecessary, and a relation database isn't designed to ingest millions of small records per minute

D. No, because S3 supports 210,000 PUT requests per minute (3,500 requests per second * 60 seconds per min) which is far less than 1,000,000+ writes per minute</div>
            </div>
            <div class="comment">
                <div class="comment-header">
                    <span class="comment-username">uC6rW1aB</span>
                    
                    <span class="comment-upvotes">👍 3 votes</span>
                </div>
                <div class="comment-content">Ref: https://aws.amazon.com/dynamodb/pricing/on-demand/
DynamoDB read requests can be either strongly consistent, eventually consistent, or transactional. A strongly consistent read request of up to 4 KB requires one read request unit. For items larger than 4 KB, additional read request units are required.</div>
            </div>
            <div class="comment">
                <div class="comment-header">
                    <span class="comment-username">ahhatem</span>
                    
                    <span class="comment-upvotes">👍 2 votes</span>
                </div>
                <div class="comment-content">Obviously it is DynamoDB. Although as a side node I would say it is  probably a very bad choice as it would be astronomically expensive for millions of writes per minute…. A Kinesis Data Streams would make much more sense especially that the data is only needed for 3 months…</div>
            </div>
            <div class="comment">
                <div class="comment-header">
                    <span class="comment-username">vmia159</span>
                    <span class="comment-badge">Most Recent</span>
                    <span class="comment-upvotes">👍 1 votes</span>
                </div>
                <div class="comment-content">For those who said B, how many WCU is needed for dynamoDB?
Given:
1 million records per minute
4KB per record
This translates to approximately 16,667 records per second (1,000,000 / 60)
For DynamoDB WCU calculation:
1 WCU = 1 write per second for items up to 1KB
For items larger than 1KB, the WCU is rounded up to the next 1KB
For 4KB items, each write will consume 4 WCUs
Therefore:
WCUs needed = (Records per second) × (Item size in KB rounded up)
WCUs = 16,667 × 4
WCUs = 66,668 WCUs
First, you need to increase the quotas for that table by submitting a support ticket.
https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/ServiceQuotas.html
Second, this is very expensive.
Obviously, combine it with kinesis data agent and firehorse that write to S3 will be much reliable options but it will increase the cost significantly. But still cheaper than the dynamo db options.
https://calculator.aws/#/estimate?id=87f1df21449660b0b9d61a6c1153632b1983d2e4</div>
            </div>
        </div>
    <div class="navigation">
    <a href="question-074.html" class="nav-btn prev-btn">← 前の問題</a>
    <a href="../index.html" class="nav-btn home-btn">📋 目次</a>
    <a href="question-076.html" class="nav-btn next-btn">次の問題 →</a>
</div>
    </div>
    
    <script>
        let answerVisible = false;
        
        function toggleAnswer() {
            const answerSection = document.getElementById('answer-section');
            const commentsSection = document.getElementById('comments-section');
            const btn = document.querySelector('.toggle-btn');
            const correctLetter = 'B';
            
            answerVisible = !answerVisible;
            
            if (answerVisible) {
                answerSection.classList.remove('hidden');
                commentsSection.classList.remove('hidden');
                btn.textContent = '正解を隠す';
                
                // 正解の選択肢をハイライト
                document.querySelectorAll('.choice-item').forEach(item => {
                    const letter = item.querySelector('.choice-letter').textContent;
                    if (letter === correctLetter) {
                        item.classList.add('correct');
                    }
                });
            } else {
                answerSection.classList.add('hidden');
                commentsSection.classList.add('hidden');
                btn.textContent = '正解を表示';
                
                // ハイライトを削除
                document.querySelectorAll('.choice-item').forEach(item => {
                    item.classList.remove('correct');
                });
            }
        }
    </script>
</body>
</html>