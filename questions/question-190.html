<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <title>SAP資格 topic 1 question 190 discussion</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
            padding: 10px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
        }
        
        .header h1 {
            font-size: 1.3em;
            margin-bottom: 5px;
        }
        
        .question-section {
            padding: 20px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .question-text {
            font-size: 1.05em;
            line-height: 1.8;
            margin-bottom: 20px;
            white-space: pre-line;
        }
        
        .choices {
            list-style: none;
        }
        
        .choice-item {
            padding: 15px;
            margin: 10px 0;
            background: #f8f9fa;
            border-left: 4px solid #6c757d;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .choice-item:hover {
            background: #e9ecef;
            transform: translateX(5px);
        }
        
        .choice-item.correct {
            background: #d4edda;
            border-left-color: #28a745;
        }
        
        .choice-letter {
            display: inline-block;
            width: 30px;
            height: 30px;
            background: #6c757d;
            color: white;
            text-align: center;
            line-height: 30px;
            border-radius: 50%;
            margin-right: 10px;
            font-weight: bold;
        }
        
        .choice-item.correct .choice-letter {
            background: #28a745;
        }
        
        .answer-section {
            padding: 20px;
            background: #e7f3ff;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .answer-section h2 {
            color: #0066cc;
            font-size: 1.2em;
            margin-bottom: 10px;
        }
        
        .correct-answer {
            font-size: 1.5em;
            color: #28a745;
            font-weight: bold;
        }
        
        .vote-stats {
            margin-top: 15px;
            padding: 10px;
            background: white;
            border-radius: 4px;
        }
        
        .vote-bar {
            display: flex;
            height: 30px;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 10px;
        }
        
        .vote-segment {
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.9em;
        }
        
        .comments-section {
            padding: 20px;
        }
        
        .comments-section h2 {
            font-size: 1.2em;
            margin-bottom: 15px;
            color: #495057;
        }
        
        .comment {
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 4px;
            border-left: 4px solid #007bff;
        }
        
        .comment.highly-voted {
            border-left-color: #ffc107;
            background: #fff9e6;
        }
        
        .comment-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .comment-username {
            font-weight: bold;
            color: #495057;
        }
        
        .comment-badge {
            background: #ffc107;
            color: #000;
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 0.8em;
            font-weight: bold;
        }
        
        .comment-upvotes {
            color: #6c757d;
            font-size: 0.9em;
        }
        
        .comment-content {
            line-height: 1.8;
            white-space: pre-line;
        }
        
        .toggle-btn {
            display: block;
            width: 100%;
            padding: 12px;
            margin: 20px 0;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 1em;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        
        .toggle-btn:hover {
            background: #0056b3;
        }
        
        .hidden {
            display: none;
        }
        
        @media (max-width: 600px) {
            body {
                padding: 5px;
            }
            
            .header {
                padding: 15px;
            }
            
            .header h1 {
                font-size: 1.1em;
            }
            
            .question-section, .answer-section, .comments-section {
                padding: 15px;
            }
            
            .choice-item {
                padding: 12px;
            }
        }
    
        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: #f8f9fa;
            border-top: 2px solid #e9ecef;
            gap: 10px;
        }

        .nav-btn {
            padding: 10px 20px;
            background: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            font-weight: bold;
            transition: background 0.3s ease;
            display: inline-block;
        }

        .nav-btn:hover {
            background: #0056b3;
        }

        .nav-btn.disabled {
            background: #6c757d;
            opacity: 0.5;
            cursor: not-allowed;
        }

        .nav-btn.home-btn {
            background: #28a745;
        }

        .nav-btn.home-btn:hover {
            background: #218838;
        }

        @media (max-width: 600px) {
            .navigation {
                flex-direction: column;
            }

            .nav-btn {
                width: 100%;
                text-align: center;
            }
        }
    
    </style>
</head>
<body>
    <script>if(sessionStorage.getItem("authenticated")!=="true"){window.location.href="../index.html";}</script>
    <div class="container">
        <div class="header">
            <h1>SAP資格 topic 1 question 190 discussion</h1>
        </div>
        
        <div class="question-section">
            <div class="question-text">A company runs a web application on AWS. The web application delivers static content from an Amazon S3 bucket that is behind an Amazon CloudFront distribution. The application serves dynamic content by using an Application Load Balancer (ALB) that distributes requests to a fleet of Amazon EC2 instances in Auto Scaling groups. The application uses a domain name setup in Amazon Route 53.Some users reported occasional issues when the users attempted to access the website during peak hours. An operations team found that the ALB sometimes returned HTTP 503 Service Unavailable errors. The company wants to display a custom error message page when these errors occur. The page should be displayed immediately for this error code.Which solution will meet these requirements with the LEAST operational overhead?</div>
            
            <ul class="choices">
                <li class="choice-item">
                    <span class="choice-letter">A</span>
                    Set up a Route 53 failover routing policy. Configure a health check to determine the status of the ALB endpoint and to fail over to the failover S3 bucket endpoint.
                </li>
                <li class="choice-item">
                    <span class="choice-letter">B</span>
                    Create a second CloudFront distribution and an S3 static website to host the custom error page. Set up a Route 53 failover routing policy. Use an active-passive configuration between the two distributions.
                </li>
                <li class="choice-item">
                    <span class="choice-letter">C</span>
                    Create a CloudFront origin group that has two origins. Set the ALB endpoint as the primary origin. For the secondary origin, set an S3 bucket that is configured to host a static website Set up origin failover for the CloudFront distribution. Update the S3 static website to incorporate the custom error page.
                </li>
                <li class="choice-item">
                    <span class="choice-letter">D</span>
                    Create a CloudFront function that validates each HTTP response code that the ALB returns. Create an S3 static website in an S3 bucket. Upload the custom error page to the S3 bucket as a failover. Update the function to read the S3 bucket and to serve the error page to the end users.
                </li>
            </ul>
            
            <button class="toggle-btn" onclick="toggleAnswer()">正解を表示</button>
        </div>
        
        <div class="answer-section hidden" id="answer-section">
            <h2>正解</h2>
            <div class="correct-answer">C</div>
            
            
            <div class="vote-stats">
                <strong>コミュニティ投票（計 29 票）</strong>
                <div class="vote-bar">
                    <div class="vote-segment" style="width: 72.41379310344827%; background: #007bff;">C (72%)</div><div class="vote-segment" style="width: 27.586206896551722%; background: #28a745;">D (28%)</div>
                </div>
            </div>
        </div>
        
        <div class="comments-section hidden" id="comments-section">
            <h2>主要なディスカッション</h2>
            <div class="comment highly-voted">
                <div class="comment-header">
                    <span class="comment-username">pupsik</span>
                    <span class="comment-badge">Highly Voted</span>
                    <span class="comment-upvotes">👍 6 votes</span>
                </div>
                <div class="comment-content">Origin Groups in CloudFront is what we need here.</div>
            </div>
            <div class="comment highly-voted">
                <div class="comment-header">
                    <span class="comment-username">Jackhemo</span>
                    <span class="comment-badge">Highly Voted</span>
                    <span class="comment-upvotes">👍 5 votes</span>
                </div>
                <div class="comment-content">From olabiba.ai: 

By using a CloudFront origin group with two origins, you can configure failover between the ALB endpoint and the S3 bucket hosting the static website. This ensures that if the ALB returns HTTP 503 Service Unavailable errors, CloudFront will automatically failover to the S3 bucket and serve the custom error page.

Setting up origin failover for the CloudFront distribution allows for immediate failover to the secondary origin when the primary origin is unavailable. This minimizes the impact of the ALB errors and provides a seamless experience for users by displaying the custom error page.

Updating the S3 static website to incorporate the custom error page ensures that the error page is readily available and can be served to users without any additional processing or delays.</div>
            </div>
            <div class="comment">
                <div class="comment-header">
                    <span class="comment-username">Dgix</span>
                    
                    <span class="comment-upvotes">👍 4 votes</span>
                </div>
                <div class="comment-content">A and B are plainly wrong and can be eliminated straight away. The choice therefore is between C and D. The question asks for an immediate display of a custom error page - NOT about permanent failover. Therefore, the correct answer is D.</div>
            </div>
            <div class="comment">
                <div class="comment-header">
                    <span class="comment-username">AimarLeo</span>
                    
                    <span class="comment-upvotes">👍 3 votes</span>
                </div>
                <div class="comment-content">'The company wants to display a custom error message page when these errors occur. The page should be displayed immediately for this error code.' The purpose of the question obviously is to return that error page not really a FAILOVER mechanism --> Leaves D as an asnwer</div>
            </div>
            <div class="comment">
                <div class="comment-header">
                    <span class="comment-username">carpa_jo</span>
                    
                    <span class="comment-upvotes">👍 3 votes</span>
                </div>
                <div class="comment-content">For people are asking why C is better than A:
The approach of A is more suited for scenarios where there is a complete failure of the primary endpoint rather than intermittent errors. The health checks may not register a failure if the 502 errors are sporadic and the system is generally operational, thus the failover might not be triggered.
With the approach of C CloudFront will always automatically switch to the secondary origin when the primary origin returns specific HTTP status code failure responses.</div>
            </div>
        </div>
    <div class="navigation">
    <a href="question-189.html" class="nav-btn prev-btn">← 前の問題</a>
    <a href="../index.html" class="nav-btn home-btn">📋 目次</a>
    <a href="question-191.html" class="nav-btn next-btn">次の問題 →</a>
</div>
    </div>
    
    <script>
        let answerVisible = false;
        
        function toggleAnswer() {
            const answerSection = document.getElementById('answer-section');
            const commentsSection = document.getElementById('comments-section');
            const btn = document.querySelector('.toggle-btn');
            const correctLetter = 'C';
            
            answerVisible = !answerVisible;
            
            if (answerVisible) {
                answerSection.classList.remove('hidden');
                commentsSection.classList.remove('hidden');
                btn.textContent = '正解を隠す';
                
                // 正解の選択肢をハイライト
                document.querySelectorAll('.choice-item').forEach(item => {
                    const letter = item.querySelector('.choice-letter').textContent;
                    if (letter === correctLetter) {
                        item.classList.add('correct');
                    }
                });
            } else {
                answerSection.classList.add('hidden');
                commentsSection.classList.add('hidden');
                btn.textContent = '正解を表示';
                
                // ハイライトを削除
                document.querySelectorAll('.choice-item').forEach(item => {
                    item.classList.remove('correct');
                });
            }
        }
    </script>
</body>
</html>